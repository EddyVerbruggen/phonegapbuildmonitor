<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Phonegapps</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
  <link href="css/custom.css" rel="stylesheet">
  <link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
  <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="js/lib/jquery.jqplot/jquery.jqplot.min.css" rel="stylesheet"/>
  <script src="cordova.js"></script>
</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="#accountsModal" role="button" class="btn btn-primary" data-toggle="modal">Accounts</a>
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li class="active"><a href="#about"><i class="icon-info-sign"></i>&nbsp;&nbsp;About</a></li>
          <li class="active"><a href="mailto:info@x-services.nl?subject=Phonegapps"><i class="icon-envelope"></i>&nbsp;&nbsp;Contact us</a></li>
          <li class="active"><a href="#settings"><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star"></i><i class="icon-star-half-full"></i>&nbsp;&nbsp;Rate us</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div id="lastCheck"></div>
  <div id="chartdiv" style="height:130px;width:100%"></div>
  <table class="table" id="appTable">
    <tbody id="appTableBody">
      <tr>
        <td style="text-align: center; padding-top: 100px">
          <h4><i class="icon-spinner icon-spin"></i>&nbsp;&nbsp;loading</h4>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div id="accountsModal" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="accountsModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="accountsModalLabel"><i class="icon-group"></i> Accounts</h3>
  </div>
  <div class="modal-body">
    <table class="table" id="userTable">
      <tbody id="userTableBody"></tbody>
    </table>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    <a href="#addAccountModal" class="btn btn-primary" data-toggle="modal" data-dismiss="modal"><i class="icon-plus-sign"></i> Add account</a>
  </div>
</div>

<div id="addAccountModal" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="addAccountModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="addAccountModalLabel"><i class="icon-user"></i> Add account</h3>
  </div>
  <div class="modal-body">
    <fieldset>
      <div>Signing in with Email or Adobeid?</div>
      <div class="input-prepend input-block-level">
        <span class="add-on"><i class="icon-envelope"></i></span>
        <input id="addAccount_Email" type="email" placeholder="Email / Adobeid">
      </div>
      <div class="input-prepend">
        <span class="add-on"><i class="icon-key"></i></span>
        <input id="addAccount_Password" type="password" placeholder="Password">
      </div>
    </fieldset>
    <hr/>
    <fieldset>
      <div>Signing in with a Github account?</div>
      <div style="color: #bbb">see your account setings in pgbuild</div>
      <div class="input-prepend">
        <span class="add-on"><i class="icon-shield"></i></span>
        <input id="addAccount_Token" type="text" placeholder="Authentication Token">
      </div>
    </fieldset>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    <button class="btn btn-primary" id="signInButton"><i class="icon-signin"></i>&nbsp;&nbsp;Sign in</button>
  </div>
</div>

<!-- Placed at the end of the document so the app loads faster -->
<script src="js/lib/jquery-1.9.1.min.js"></script>
<script src="js/lib/jquery.jqplot/jquery.jqplot.min.js"></script>
<script src="js/lib/jquery.jqplot/jqplot.canvasTextRenderer.min.js"></script>
<script src="js/lib/jquery.jqplot/jqplot.canvasAxisLabelRenderer.min.js"></script>
<script src="js/lib/jquery.jqplot/jqplot.dateAxisRenderer.min.js"></script>
<script src="js/lib/jquery.jqplot/jqplot.enhancedLegendRenderer.min.js"></script>
<script src="bootstrap/js/bootstrap.js"></script>
<script src="js/functions.js"></script>
<script src="js/PhonegapBuildApiProxy.js"></script>
<script src="js/models/PhonegappLogin.js"></script>
<script src="js/controllers/UserController.js"></script>
<script src="js/controllers/AppController.js"></script>
<script src="js/views/AppsView.js"></script>
<script src="js/views/AccountOverView.js"></script>
<script src="js/views/AddAccountView.js"></script>
<script src="js/System.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    // async opzet:
    $.ajax({
      async: true,
        url: 'http://www.thumbrater.com:9100',
//      url: 'http://localhost:9100',
      dataType:"json",
      success: function(data) {
          var plot2 = $.jqplot('chartdiv', [data.ios, data.android], {
              title:'Recent Phonegap Build durations',
              axes:{
                xaxis:{
                  renderer:$.jqplot.DateAxisRenderer,
                  tickOptions: {
//                    formatString:'%b %#d, %#I %p'
//                    formatString:'%#I %p',
                    formatter: function(format, value) { return "This is " + value; }
                  },
                  numberTicks: 4
//                  tickInterval:'15 minutes'
                }
              },
              series: [{
                color: '#0088cc',
                lineWidth:2,
                markerOptions: {
                 size: 7
               },
//                linePattern: 'dashed',
                rendererOptions: {
                  smooth: true
                }
              },
              {
                color: '#c67605',
                lineWidth:2,
                markerOptions: {
                 size: 7
               },
                rendererOptions: {
                  smooth: true
                }
              }],
              legend: {
                show: true,
                renderer: $.jqplot.EnhancedLegendRenderer,
                placement: "insideGrid",
                labels: ["ios", "android"],
                location: "nw",
                rowSpacing: "10px",
                rendererOptions: {
                    // set to true to replot when toggling series on/off
                    // set to an options object to pass in replot options.
                    seriesToggle: 'normal',
                    seriesToggleReplot: {resetAxes: true}
                }
              }
          });
      }
    });
  });
</script>
</body>
</html>